import unittest
from kmeans import kmeans

class TestKMeans(unittest.TestCase):

	def test_10_points_2_clusters(self):
		points = [(0, 1), (5, 6), (5, 7), (7, 6), (10, 15), (34, 23), (23, 24), (11, 4), (4, 7), (13, 15)]
		initial_centroids = [(5, 7), (34, 23)]
		centroids, distribution = kmeans(2, points, initial_centroids)
		self.assertEqual(centroids, [(6.875, 7.625), (28.5, 23.5)])
		self.assertEqual(distribution, [0, 0, 0, 0, 0, 1, 1, 0, 0, 0])

	def test_20_points_5_clusters(self):
		points = [(41, 72), (22, 71), (36, 53), (19, 10), (98, 58), (29, 84), (3, 91), (0, 66), (29, 97), (91, 41), (81, 87), (65, 5), (52, 41), (57, 23), (68, 81), (37, 89), (36, 23), (2, 46), (57, 99), (58, 73)]
		initial_centroids = [(19, 10), (65, 5), (29, 97), (58, 73), (37, 89)]
		centroids, distribution = kmeans(5, points, initial_centroids)
		self.assertEqual(
			centroids,
			[(23.25, 33.0), (66.25, 27.5), (8.333333333333334, 76.0), (76.25, 74.75), (38.6, 88.2)]
		)
		self.assertEqual(
			distribution,
			[4, 2, 0, 0, 3, 4, 2, 2, 4, 1, 3, 1, 1, 1, 3, 4, 0, 0, 4, 3]
		)

	def test_100_points_7_clusters(self):
		points = [(92, 18), (41, 34), (98, 57), (63, 83), (10, 35), (72, 26), (47, 47), (15, 51), (74, 83), (71, 22), (5, 70), (62, 56), (53, 36), (58, 74), (97, 76), (95, 4), (20, 81), (30, 61), (51, 42), (19, 80), (41, 12), (5, 21), (46, 65), (76, 39), (100, 35), (48, 73), (39, 52), (100, 87), (81, 7), (15, 25), (7, 45), (60, 46), (23, 32), (27, 3), (19, 63), (97, 89), (45, 61), (51, 31), (25, 89), (32, 81), (87, 9), (94, 24), (54, 94), (93, 79), (64, 67), (81, 29), (67, 83), (77, 91), (31, 51), (16, 79), (4, 28), (51, 67), (27, 85), (68, 7), (52, 16), (0, 91), (30, 17), (98, 22), (100, 19), (92, 57), (50, 29), (21, 44), (82, 69), (7, 5), (14, 30), (46, 89), (0, 98), (98, 77), (72, 50), (70, 70), (17, 69), (29, 28), (37, 69), (43, 1), (12, 26), (94, 52), (74, 61), (94, 87), (33, 84), (72, 94), (68, 64), (38, 19), (78, 78), (88, 72), (33, 6), (100, 66), (8, 65), (81, 77), (14, 95), (9, 17), (5, 41), (1, 90), (85, 59), (17, 5), (28, 32), (50, 47), (14, 87), (40, 15), (20, 82), (93, 64)]
		initial_centroids = [(70, 70), (37, 69), (71, 22), (16, 79), (50, 47), (20, 81), (82, 69)]
		centroids, distribution = kmeans(7, points, initial_centroids)
		self.assertEqual(
			centroids,
			[(65.21428571428571, 78.85714285714286), (50.333333333333336, 48.8), (85.76923076923077, 20.076923076923077), (15.272727272727273, 54.09090909090909), (24.57894736842105, 17.789473684210527), (17.0, 86.3076923076923), (92.8, 71.2)]
		)
		self.assertEqual(
			distribution,
			[2, 1, 6, 0, 3, 2, 1, 3, 0, 2, 3, 1, 1, 0, 6, 2, 5, 3, 1, 5, 4, 4, 1, 2, 2, 0, 1, 6, 2, 4, 3, 1, 4, 4, 3, 6, 1, 1, 5, 5, 2, 2, 0, 6, 0, 2, 0, 0, 3, 5, 4, 1, 5, 2, 4, 5, 4, 2, 2, 6, 1, 3, 6, 4, 4, 0, 5, 6, 1, 0, 3, 4, 1, 4, 4, 6, 0, 6, 5, 0, 0, 4, 0, 6, 4, 6, 3, 6, 5, 4, 3, 5, 6, 4, 4, 1, 5, 4, 5, 6]
		)

if __name__== '__main__':
	unittest.main()